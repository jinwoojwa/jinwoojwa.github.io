---
title: "[PL] OCaml Basic"
excerpt: "í”„ë¡œê·¸ë˜ë°ì–¸ì–´ê°œë¡ "

categories:
  - í”„ë¡œê·¸ë˜ë°ì–¸ì–´ë¡ 
tags:
  - [Programming Language]

permalink: /programming-language/pl-ocaml-basic/

toc: true
toc_sticky: true

date: 2024-04-16
last_modified_at: 2024-04-16
published: true
---

# ğŸ‘‘ OCaml Basic

<br>

## ğŸ’¡ ì£¼ì„ (Comment)

OCamlì€ `ì—¬ëŸ¬ì¤„ ì£¼ì„ë§Œ` ì§€ì›í•œë‹¤.

```ocaml
(* This is multiline comment *)
```

<br>

## ğŸ’¡ Standard I/O

* ê¸°ë³¸ ì…ë ¥ <br>

    - `read_line()` í•¨ìˆ˜ : ì‚¬ìš©ì ì…ë ¥ì„ ë¬¸ìì—´ë¡œ ë°˜í™˜í•œë‹¤.
    - `unit` íƒ€ì…, ì¦‰ ì¸ìê°€ ì—†ìœ¼ë©°, return íƒ€ì…ì€ `string`ì´ë‹¤.
    - í•œ ì¤„ ì „ì²´ë¥¼ `string`ìœ¼ë¡œ ë°˜í™˜í•˜ëŠ”ë°, `\n (linefeed)`ëŠ” ì œì™¸í•œë‹¤.

    <center><img src="https://github.com/jinwoojwa/jinwoo.github.io/assets/112393728/6a08b840-de75-4ed1-93a4-db7cde79d412"></center>

* ê¸°ë³¸ ì¶œë ¥ <br>

    - `Format` ëª¨ë“ˆì„ ì‚¬ìš©í•œ `printf`
    - `Format` ëª¨ë“ˆì€ ë‹¤ì–‘í•œ í˜•íƒœì˜ í•¨ìˆ˜ë¥¼ ì§€ì›í•œë‹¤.
    - ê·¸ ì¤‘ `printf`ëŠ” formatted stringì„ ì¶œë ¥í•´ì¤€ë‹¤.

    ```ml
    let name = "OCaml" in
    let age = 25 in

    Format.printf "Name : %s, Age : %d\n" name, age
    ```

    <center><img src="https://github.com/jinwoojwa/jinwoo.github.io/assets/112393728/f1460f33-b180-49d2-8449-d4050712c4fe"></center>

<br>

## ğŸ’¡ ë³€ìˆ˜ (Variable)

OCamlì—ì„œ ë³€ìˆ˜ëŠ” íŠ¹ì • ê°’ì— `ë¬¶ì¸(bound)` ì‹ë³„ìì´ë‹¤. <br>

ë³€ìˆ˜ì˜ íƒ€ì…ì€ ìƒëµí•´ë„ ë¬´ë°©í•˜ë©°, OCamlì˜ íƒ€ì… ì‹œìŠ¤í…œì´ íƒ€ì…ì„ ì¶”ë¡ í•´ì¤€ë‹¤. <br>

íƒ€ ì–¸ì–´ì™€ ë‹¬ë¦¬ ë³€ìˆ˜ ì„ ì–¸ê³¼ ì´ˆê¸°í™”ë¥¼ ë”°ë¡œ í•˜ëŠ” ê²ƒì´ ë¶ˆê°€ëŠ¥í•˜ë©°, ë³€ìˆ˜ëŠ” ì„ ì–¸ê³¼ ë™ì‹œì— ê°’ì— `bound` ë˜ì–´ì•¼ í•œë‹¤. <br>

ê¸°ë³¸ì ìœ¼ë¡œ ëª¨ë“  ë³€ìˆ˜ëŠ” ê°’ì˜ ë³€ê²½ì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤. ì´ ë•Œ ê°™ì€ ì´ë¦„ì˜ ë³€ìˆ˜ë¥¼ ì—¬ëŸ¬ ë²ˆ ì„ ì–¸í•˜ëŠ” ê²½ìš° ê°€ì¥ ìµœê·¼ì— ì„ ì–¸í•œ ë³€ìˆ˜ì—ë§Œ ì ‘ê·¼ ê°€ëŠ¥í•˜ë©°, ì´ë¥¼ `variable shadowing`ì´ë¼ í•œë‹¤. <br>

```ocaml
let x = 1 in      (* xëŠ” 1ì´ë©°, ë³€ê²½ ë¶ˆê°€ëŠ¥ *)
let x = x + x in  (* ìƒˆë¡œìš´ x ê°€ ì´ì „ x + xì— ë¬¶ì„ *)
x                 (* ì´ì „ì˜ xëŠ” ìƒˆë¡œìš´ xì— ì˜í•´ ê°€ë ¤ì§(shadowing) *)
```

### 1) Global Definitions

- `let [variable] = [expression]` ì˜ í˜•íƒœ <br>

- `globally` í•˜ê²Œ ì •ì˜ë˜ì—ˆê¸° ë•Œë¬¸ì—, ì–´ë””ì„œë“  ì‚¬ìš© ê°€ëŠ¥ <br>

<center><img src="https://github.com/jinwoojwa/jinwoo.github.io/assets/112393728/207839b6-7ae5-4040-8c45-ca1575ae0725"></center>

### 2) Local Definitions

- `let [variable] = [expression] in [expression] ì˜ í˜•íƒœ <br>

- `in`ì€ ë³€ìˆ˜ì˜ `scope`ë¥¼ ì •í•´ì¤€ë‹¤. <br>

- ì•„ë˜ì˜ ì˜ˆì‹œì—ì„œ `1 + 2 + 3`ì´ ê³„ì‚°ëœ ì´í›„ sumì— `bound` ëœë‹¤. <br>

  global definitionê³¼ ë‹¤ë¥´ê²Œ sumì€ `in` ë‹¤ìŒì˜ expressionì—ì„œ ë°–ì— ì‚¬ìš©ë  ìˆ˜ ì—†ë‹¤. <br>

<center><img src="https://github.com/jinwoojwa/jinwoo.github.io/assets/112393728/02602938-6a4e-4d38-9f7b-ae8eaca130b2"></center>

<br>

### âœ” Wildcard

OCaml ì—ì„œ Wildcard `_`ëŠ” íŒ¨í„´ ë§¤ì¹­ì´ë‚˜ í•¨ìˆ˜ ì •ì˜, expression ì˜ ì‹¤í–‰ ë“± ë‹¤ì–‘í•œ ìš©ë„ë¡œ ì‚¬ìš©ëœë‹¤. `anything` ì´ë¼ëŠ” ì˜ë¯¸ë¥¼ ê°€ì§€ê³  ìˆì–´, ì–´ë–¤ ê°’ì´ë“  ê°€ì§ˆ ìˆ˜ ìˆë‹¤ëŠ” ëœ»ì„ ê°€ì§„ë‹¤. <br>

OCamlì—ì„œëŠ” ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê°’ì„ ë³€ìˆ˜ì— ë°”ì¸ë”© í•˜ëŠ” ê²ƒì„ ê¸ˆì§€í•œë‹¤. <br>

ì¦‰, ë‹¨ìˆœíˆ expressionì„ ì‹¤í–‰í•˜ë ¤ë©´ wildcardë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.

- **expression ì‹¤í–‰** <br>

![image](https://github.com/jinwoojwa/jinwoo.github.io/assets/112393728/c22eb9cc-b621-420c-8256-8d05a2232dc7)

- **íŒ¨í„´ ë§¤ì¹­** <br>

```ml
match expression with
| pattern1 -> ~~~
| _ -> ~~~  (* pattern1ì— í•´ë‹¹ë˜ì§€ ì•ŠëŠ” ëª¨ë“  ê°’ì— ëŒ€ì‘í•¨ *)
```

<br>

## ğŸ’¡ Sequencing

`Sequencing`ì€ ì—°ì†ì ì¸ `unit expression`ì˜ ê³„ì‚°ì„ ìˆ˜í–‰í•˜ëŠ” ê²ƒì„ ë§í•œë‹¤. <br>

- `;` ë¡œ ì—°ê²°ëœ expressionì„ ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰ <br>

- ë§ˆì§€ë§‰ expressionì„ ì œì™¸í•œ ëª¨ë“  expressionì˜ ê³„ì‚° ê²°ê³¼ëŠ” `unit`ì´ì–´ì•¼ í•œë‹¤. <br>

- `begin-end expression`ì„ ì‚¬ìš©í•˜ì—¬ ëª…ì‹œì ìœ¼ë¡œ í‘œê¸°í•´ì£¼ëŠ” ê²ƒì´ ì¼ë°˜ì ì´ë‹¤. <br>

```ml
(* Semicolon-only *)
Format.printf "10\n";
Format.printf "20\n";
Format.printf "30\n"

(* begin-end *)
begin
  Format.printf "10\n";
  Format.printf "20\n";
  Format.printf "30\n"
end

(* let-in *)
let _ = Format.printf "10\n" in
let _ = Format.printf "20\n" in
Format.printf "30\n"
```

<br>

## ğŸ’¡ Function

OCamlì—ì„œ í•¨ìˆ˜ëŠ” `first-class object` ì·¨ê¸‰ì„ ë°›ëŠ” [`first-class function`](https://en.wikipedia.org/wiki/First-class_function)ì´ë‹¤. <br>

ì¦‰, OCamlì—ì„œ í•¨ìˆ˜ë¥¼ ë‹¤ë¥¸ í•¨ìˆ˜ì— ëŒ€í•œ ì¸ìë¡œ ì „ë‹¬í•˜ê³ , ë‹¤ë¥¸ í•¨ìˆ˜ì˜ ê°’ìœ¼ë¡œ ë°˜í™˜í•˜ê³ , <br>

ë³€ìˆ˜ì— í• ë‹¹í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í•˜ë‹¤. (í•¨ìˆ˜ ìì²´ê°€ `expression` ì´ì ê°’ì„) <br>

- `fun` í‚¤ì›Œë“œë¥¼ í†µí•´ í•¨ìˆ˜ë¥¼ ì •ì˜í•  ìˆ˜ ìˆë‹¤. <br>

- `let definition` ë˜ëŠ” `let-in definition`ì„ í™œìš©í•˜ì—¬ ì´ë¦„ ìˆëŠ” í•¨ìˆ˜ ì •ì˜ê°€ ê°€ëŠ¥í•˜ë‹¤. <br>

```ml
(* ê¸°ë³¸í˜• *)
fun [param_list] -> [expression]

fun x -> x + 1            (* ìµëª… í•¨ìˆ˜ ì •ì˜ *)
let f = fun x y -> x + y  (* ìµëª… í•¨ìˆ˜ë¥¼ ë³€ìˆ˜ fì— ë°”ì¸ë”© *)

let sum x y = x + y       (* ì´ë¦„ ìˆëŠ” í•¨ìˆ˜ ì •ì˜ *)
let sum x y = x + y in
Format.printf "Result : %d\n" (sum 3 7)
```

<br>

- í•¨ìˆ˜ì˜ íƒ€ì…ì€ `arrow` ë¡œ í‘œê¸° : `type -> type` <br>

- ì—¬ëŸ¬ ì¸ìë¥¼ ë°›ëŠ” ê²½ìš° `curried form`ìœ¼ë¡œ í‘œê¸°í•œë‹¤.

> **currying** : ì—¬ëŸ¬ ì¸ìë¥¼ ë°›ëŠ” í•¨ìˆ˜ë¥¼ ë‹¨ì¼ ì¸ìë¥¼ ë°›ëŠ” í•¨ìˆ˜ì˜ ë‚˜ì—´ë¡œ í‘œí˜„

```ml
let add x = x + 1       (* add : int -> int *)

let sum x y = x + y     (* sum : int -> int -> int *)
```

<br>

- í•¨ìˆ˜ ì¸ìë¥¼ `tuple` ë¡œ ë°›ë„ë¡ ì •ì˜í•  ìˆ˜ë„ ìˆë‹¤. <br>

- `tuple`ì˜ íƒ€ì…ì€ `*`ë¥¼ ì‚¬ìš©í•˜ì—¬ í‘œê¸°í•œë‹¤. <br>

```ml
let a = 3, 4                (* p : int * int *)
let b = (3, 'c', "hello")   (* b : int * char * string *)

let sum (x, y) = x + y in
Format.printf "Result : %d\n" (sum(1, 3))
```

<br>

- í•¨ìˆ˜ê°€ ìê¸° ìì‹ ì„ í˜¸ì¶œí•˜ê¸° ìœ„í•´ì„œëŠ”(ì¬ê·€) `rec` í‚¤ì›Œë“œì™€ í•¨ê»˜ `named function` ìœ¼ë¡œ ì •ì˜í•´ì•¼ í•œë‹¤.

```ml
let rec factorial = function
  | 0 -> 1
  | n -> n * factorial (n - 1)  (* rec í‚¤ì›Œë“œë¥¼ í†µí•´ ìê¸° ìì‹  í˜¸ì¶œ ê°€ëŠ¥ *)
```

<br>

## ğŸ’¡ ì¡°ê±´ë¬¸

OCamlì—ì„œì˜ ì¡°ê±´ë¬¸ì€ `if-then-else expression`ì„ í†µí•´ ì‘ì„±ëœë‹¤.

- `if [expression1] then [expression2] else [expression3]` <br>

- `expression1` ì€ ë°˜ë“œì‹œ `bool` íƒ€ì…ì´ì–´ì•¼ í•œë‹¤. <br>

- `true` ì´ë©´ `expression2`, `false` ì´ë©´ `expression3` ì´ë‹¤. <br>

- `expression2`ì™€ `expression3` ì˜ íƒ€ì…ì€ ë™ì¼í•´ì•¼ í•œë‹¤. <br>

```ml
let rec factorial n =
  if n = 0 then 1
  else n * factorial (n - 1)
```
